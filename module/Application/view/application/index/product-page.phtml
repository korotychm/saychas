<?php

use Application\Resource\Resource;

//$this->headTitle(Resource::THE_CATALOG_OF_PRODUCTS, 'PREPEND');
$this->headTitle($this->category, 'PREPEND');
$this->headTitle($this->title, 'PREPEND');
?>
<section class="product-card" id="product-card">
    <?= $this->partial("/application/index/partials/product-page/bead-crumbs", ["breadCrumbs" => $this->breadCrumbs, "id" => $this->id]) ?>
    <div class="product-card__heading">
       <h1><?= $this->title ?> <?php if (false and $this->id) echo "<span>id: " . $this->id . "</span>"; ?></h1>
    </div>
    <div class="product-card__top">
        <?= $this->partial("/application/index/partials/product-page/grade") ?>
        <div class="product-card__code"><?= Resource::PRODUCT_CODE ?>: <?= $this->id ?><?php // = $this->append['vendorCode'] ?></div>
    </div>
    <div class="product-card__main">
        <?= $this->partial("/application/index/partials/product-page/product-images", ["images" => $this->images, "image_path" => $this->imagePath('product')]) ?>
        <div class="product-card__info">
            <?= $this->partial("/application/index/partials/product-page/options") ?>
            <?= $this->partial("/application/index/partials/product-page/main-characteristics", ["characteristics" => $this->characteristics]) ?>
        </div>
        <?=($this->price) ? $this->partial("/application/index/partials/product-page/pay-section",
                [
                   "price" => $this->price,
                   "oldPrice" => $this->oldPrice,
                   "discont" => $this->discont,
                   "price_formated" => $this->price_formated,
                   "id" => $this->id,
                   "brand" => $this->brand,
                   "provider" => $this->provider,
                   "image_path_brand" => $this->imagePath('brand'),
                   "image_path_provider" => $this->imagePath('provider'),
                   "isFav" => $this->isFav,
                   'delivery_price' => $this->delivery_price,
                ]) : ""
        ?>
        <?= $this->partial("/application/index/partials/product-page/description", ["description" => $this->description, "id" => $this->id]) ?>
        <?= $this->partial("/application/index/partials/product-page/characteristics", ["characteristics" => $this->characteristics]) ?>
        <?= $this->partial("/application/index/partials/product-page/append-info", ["params" => $this->append ?? []]) ?>
        <?= $this->partial("/application/index/partials/product-page/recommendations", ["id" => $this->id]) ?>
        <?= $this->partial("/application/index/partials/product-page/testimonials", ["id" => $this->id, "userLegal" => $this->userLegal]) ?>
    </div>
</section>
